<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Ethan Ruffing" />
  <title>C Style Guide</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="css/github-pandoc.css" type="text/css" />
</head>
<body>
<div id="header">
<h1 class="title">C Style Guide</h1>
<h2 class="author">Ethan Ruffing</h2>
<h3 class="date">March 3, 2015</h3>
</div>
<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#file-program-organization">File &amp; Program Organization</a><ul>
<li><a href="#file-format">File Format</a></li>
<li><a href="#file-structure">File Structure</a></li>
<li><a href="#program-structure">Program Structure</a></li>
</ul></li>
<li><a href="#commenting-documentation">Commenting &amp; Documentation</a><ul>
<li><a href="#comments">Comments</a></li>
<li><a href="#program-documentation">Program Documentation</a></li>
<li><a href="#function-documentation">Function Documentation</a></li>
</ul></li>
<li><a href="#basic-formatting">Basic Formatting</a><ul>
<li><a href="#naming">Naming</a></li>
<li><a href="#whitespace">Whitespace</a></li>
</ul></li>
<li><a href="#error-handling">Error Handling</a></li>
</ul>
</div>
<p>Copyright 2015 by Ethan Ruffing. All rights reserved.</p>
<h1 id="introduction"><a href="#introduction">Introduction</a></h1>
<p>When programming, it is essential for all programmers on a project to follow a common style. Doing so ensures consistency and productivity, allowing for a final product which is better functioning and more appealing to the client. A consistent style and detailed documentation will allow colleagues and future programmers to easily understand and use new source code.</p>
<p>This style guide is intended to provide a unifying basis for programming in the C programming language, and to provide a standard for documenting the programs created.</p>
<h1 id="file-program-organization"><a href="#file-program-organization">File &amp; Program Organization</a></h1>
<h2 id="file-format"><a href="#file-format">File Format</a></h2>
<p>Source code should be written so that no line exceeds eighty characters in length.</p>
<p>A header block should be placed at the top of each file giving the author, the date of creation, and, if applicable, the version number. This header block should also include a copyright notice and license header if applicable.</p>
<p>File names should be clear and concise so that someone can tell the general purpose of the file without having to open and read it or its header block.</p>
<h2 id="file-structure"><a href="#file-structure">File Structure</a></h2>
<p>Function <em>declarations</em> should always be located within a header (<code>*.h</code>) file, while function <em>definitions</em> should be located in a source (<code>*.c</code>) file. If choosing to place documentation for the function in only one of these locations, it is best to place it in the header file, as the header file is intended to contain a high-level overview of each function.</p>
<h2 id="program-structure"><a href="#program-structure">Program Structure</a></h2>
<p>Every effort should be made to avoid the use of global variables. Instead, pre-processor macros should be used for constants, and variables should be passed and returned between functions.</p>
<h1 id="commenting-documentation"><a href="#commenting-documentation">Commenting &amp; Documentation</a></h1>
<h2 id="comments"><a href="#comments">Comments</a></h2>
<p>Comments should be included where necessary to give a better understanding of code. When writing longer comments, follow Strunk &amp; White’s <em>The Elements of Style</em> for English grammar guidelines.</p>
<p>When writing dates and times, use the ISO 8601 standard. That is, for dates, YYYY-MM-DD; for times, hh:mm:ss; and, for date-times, YYYY-MM-DDThh:mm:ss.</p>
<p>Comments should be included that give detailed descriptions of all functions, classes, and instance variables.</p>
<h2 id="program-documentation"><a href="#program-documentation">Program Documentation</a></h2>
<p>It is essential to provide a brief overview of your program. Such an overview should be placed in a file named <code>README.md</code>, and formatted using Markdown (a markup language designed to create nicely-formatted, but still easily parsed, plain-text files). This file should contain an overview of the program’s purpose, its authors, and relavent copyright information. It should also include directions on where to find more extensive documentation, for both users and developers. However, detailed documentation on the program’s functionality should <em>not</em> be included in this file.</p>
<p>In addition, it is prudent to maintain a <code>CHANGELOG</code> (or, if preferred, <code>CHANGELOG.md</code>) file, in which a brief overview of the changes made between each release of the program are listed. Note that the changes listed here should be only the major differences between versions; all minor changes and modifications should be recorded using some form of version control, such as Git or SVN.</p>
<h2 id="function-documentation"><a href="#function-documentation">Function Documentation</a></h2>
<p>DocBlock-style comments should be provided for <em>every</em> function. DocBlock comments should be formatted using the <code>/** ... */</code> system, as illustrated in the example further down.</p>
<p>The most commonly used DocBlock interpreter for C documentation is <a href="http://www.stack.nl/~dimitri/doxygen/">Doxgen</a>. It supports export into a multitude of formats and supports a large number of tags. For a reference of what tags are supported, see the <a href="http://www.stack.nl/~dimitri/doxygen/manual/commands.html">Special Commands</a> section of the <a href="http://www.stack.nl/~dimitri/doxygen/manual/index.html">Doxygen Manual</a>.</p>
<p>Author and date (<code>@since</code>) should <em>always</em> be given for a file DocBlock. If using version numbering for the project, the version tag should also <em>always</em> appear in the class DocBlock.</p>
<p>At a minimum, functions should <em>always</em> have the date (since) tag. If multiple authors have contributed to the same class, they should also include the author tag. (If not given, the author is to be assumed to be the same as the class author.)</p>
<p>Functions should also have <code>@param</code> and <code>@return</code> tags where applicable. Any method other than a simple getter/setter (one which does not operate on the variable, but merely sets or returns its value) must have a description of its functionality. When applicable to the language, parameter tags should also specify the parameter direction (<code>[in]</code> or <code>[out]</code>). The description portion of these tags should be located on the next line (after the tag and variable name) and indented one level past the tag itself.</p>
<p>Global variables should have a DocBlock comment to explain their purpose, and macros should be described in a block somewhere near the beginning of the file.</p>
<p>Description text should be written in sentences and be punctuated with a period. Variable and <code>@param</code>/<code>@return</code> value descriptions, however, should be kept brief and not written as full sentences, unless absolutely necessary. (The first letter of these descriptions, though, should still be capitalized.)</p>
<p>A blank line should be placed after each paragraph of explanation; between the explanation and author, date, and version tags; and between those tags and the param and return tags.</p>
<h3 id="example"><a href="#example">Example</a></h3>
<pre class="sourceCode c"><code class="sourceCode c"><span class="co">/**</span>
<span class="co"> * This is an explanation of a function.</span>
<span class="co"> *</span>
<span class="co"> * </span><span class="kw">@author</span><span class="co"> Ethan Ruffing </span><span class="kw">&lt;ruffinge</span><span class="ot">@gmail.com</span><span class="kw">&gt;</span>
<span class="co"> * </span><span class="kw">@since</span><span class="co"> 2014-08-06</span>
<span class="co"> *</span>
<span class="co"> * </span><span class="kw">@param[in]</span><span class="co"> </span><span class="kw">varName</span>
<span class="co"> *     A brief description of the parameter varName</span>
<span class="co"> * </span><span class="kw">@param[out]</span><span class="co"> </span><span class="kw">outName</span>
<span class="co"> *     A brief description of the output outName</span>
<span class="co"> * </span><span class="kw">@return</span>
<span class="co"> *     A brief description of the function&#39;s return value</span>
<span class="co"> */</span></code></pre>
<h1 id="basic-formatting"><a href="#basic-formatting">Basic Formatting</a></h1>
<p>C source files should be written according the the Kernighan and Ritchie (K &amp; R) style. Furthermore, source files should be written according to the C11 (ISO/IEC 9899:2011) standard. Extensive documentation on both of these can be found online.</p>
<h2 id="naming"><a href="#naming">Naming</a></h2>
<p>In general, names should be concise, but long enough to understand immediately.</p>
<h3 id="variables"><a href="#variables">Variables</a></h3>
<p>All variables should be named in headlessCamelCase.</p>
<h3 id="constants"><a href="#constants">Constants</a></h3>
<p>Constants (including enum entries) should be named in UPPER_CASE.</p>
<h2 id="whitespace"><a href="#whitespace">Whitespace</a></h2>
<p>Whitespace helps tremendously to improve readability. The following are basic guidelines, but can be expanded on to further improve readability.</p>
<h3 id="indentation"><a href="#indentation">Indentation</a></h3>
<p>There seems to be an ongoing war regarding indentation in programming. For the purposes of this style guide, we will require the use of hard tabs (an actual <code>\t</code> character). IDEs and text editors should be set to use a tab width of four, and alignment of items such as comments should be based on this assumption.</p>
<h4 id="exception"><a href="#exception">Exception</a></h4>
<p>There is one exception to this rule (which was alluded to previously).</p>
<p>When formatting block comments, all text within the block should be aligned using spaces in order to guarantee readable documentation everywhere. (NOTE, however, that the comment block itself should be indented using tabs.)</p>
<h3 id="blank-lines"><a href="#blank-lines">Blank Lines</a></h3>
<p>One blank line should always be used in the following locations:</p>
<ul>
<li>Between methods</li>
<li>Between a local variable in a method and its first statement</li>
<li>Before a block or single-line comment</li>
<li>Between logically separate sections of code within a method</li>
</ul>
<h3 id="blank-spaces"><a href="#blank-spaces">Blank Spaces</a></h3>
<p>Blank spaces should be used in the following locations:</p>
<ul>
<li><p>Between a keyword and a parenthesis. Note that a blanks space should <em>not</em> be used between a method and its opening parenthesis. Also, there should not be any blank space following an opening parenthesis or preceding a closing parenthesis. Example:</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">while</span> (true) {
    printf(<span class="st">&quot;test&quot;</span>);
    ...
}</code></pre></li>
<li>Before an opening brace (see above example)</li>
<li>Between binary and ternary operators and their operands</li>
<li><em>Not</em> between unary operators and their operands</li>
<li><p>After each semicolon in a <code>for</code> loop (for example, <code>for (int i = 0; i &lt; n; i++) {}</code>)</p></li>
</ul>
<h3 id="braces"><a href="#braces">Braces</a></h3>
<ul>
<li>All loops, conditionals, and other such structures where braces are functionally “optional” <em>must</em> use braces, even if their contents is a single line.</li>
<li>Opening braces should always be on their own line, aligned on the column of the item they are for.</li>
<li>Close braces should always be on their one line, aligned horizontally with their open statement.</li>
</ul>
<h1 id="error-handling"><a href="#error-handling">Error Handling</a></h1>
<p>There are multiple existing systems of error handling. For example, one established way to pass errors in C is to return “error code” values as integers. In some places, errors are passed as simple booleans (i.e., <code>false</code> means an error occurred).</p>
<p>It is prudent to devise and follow and error handling and checking system to use in all programs.</p>
</body>
</html>
